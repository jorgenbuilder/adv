{"id":"adv-0rn","title":"Generate PMTiles from road data","description":"Convert Vancouver Island GeoJSON to PMTiles format using tippecanoe. Configure appropriate zoom levels and attribute preservation for road styling.","status":"closed","priority":1,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:36.066375946Z","created_by":"YORN","updated_at":"2026-01-19T21:48:55.527063334Z","closed_at":"2026-01-19T21:48:55.527063334Z","close_reason":"Script generate-tiles.ts is complete and ready to run. Uses tippecanoe to convert vi-roads.geojson to vi-roads.pmtiles with zoom levels 6-14, configured for road display optimization (drop-densest-as-needed, extend-zooms-if-still-dropping). Output goes to public/vi-roads.pmtiles for MapLibre GL consumption.","dependencies":[{"issue_id":"adv-0rn","depends_on_id":"adv-80k","type":"blocks","created_at":"2026-01-19T21:19:42.940034208Z","created_by":"YORN"}]}
{"id":"adv-14v","title":"Render DRA roads with classification styling","description":"Add PMTiles source and render road vectors with MapLibre. Style roads by ROAD_CLASS (highway=orange, arterial=cream, FSR=brown dashed, etc.) and ROAD_SURFACE (paved=solid, gravel=lighter, rough=darker). See SPEC.md for color scheme.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:53.947719138Z","created_by":"YORN","updated_at":"2026-01-19T22:14:40.872013007Z","closed_at":"2026-01-19T22:14:40.872013007Z","close_reason":"Implemented RoadLayer component with PMTiles source and MapLibre styling. Roads are styled by ROAD_CLASS with colors and widths from SPEC. Surface modifiers adjust color brightness and opacity. Filter state integration allows toggling visibility.","dependencies":[{"issue_id":"adv-14v","depends_on_id":"adv-8gu","type":"blocks","created_at":"2026-01-19T21:19:44.600593896Z","created_by":"YORN"},{"issue_id":"adv-14v","depends_on_id":"adv-0rn","type":"blocks","created_at":"2026-01-19T21:19:44.655783397Z","created_by":"YORN"}]}
{"id":"adv-1pf","title":"Implement share button","description":"Share button in header copies current URL to clipboard. Show toast confirmation on copy. URL already contains full route state from sync feature.","status":"closed","priority":3,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:21.517398465Z","created_by":"YORN","updated_at":"2026-01-19T22:04:19.497019079Z","closed_at":"2026-01-19T22:04:19.497019079Z","close_reason":"Implemented share button with toast notifications using sonner. Button copies current URL to clipboard with success/error toast feedback. Added Share2 icon from lucide-react. Added Toaster component to app layout at bottom-center position.","dependencies":[{"issue_id":"adv-1pf","depends_on_id":"adv-fag","type":"blocks","created_at":"2026-01-19T21:19:57.579364821Z","created_by":"YORN"}]}
{"id":"adv-2lq","title":"Implement client-side routing between waypoints","description":"Load pre-built routing graph. Implement Dijkstra's algorithm for pathfinding. Calculate route between consecutive waypoints. Render route line on map. Update on waypoint change.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:59.234387079Z","created_by":"YORN","updated_at":"2026-01-19T22:20:40.124416765Z","closed_at":"2026-01-19T22:20:40.124416765Z","close_reason":"Implemented client-side routing with Dijkstra's algorithm. Added router.ts with graph loading, pathfinding, and route calculation. RouteLayer component renders route line on map and updates on waypoint changes. Falls back to straight lines when routing graph unavailable.","dependencies":[{"issue_id":"adv-2lq","depends_on_id":"adv-iy6","type":"blocks","created_at":"2026-01-19T21:19:46.777071177Z","created_by":"YORN"},{"issue_id":"adv-2lq","depends_on_id":"adv-y5p","type":"blocks","created_at":"2026-01-19T21:19:46.837985466Z","created_by":"YORN"}]}
{"id":"adv-2ww","title":"Implement road filter UI","description":"Create collapsible filter panel using shadcn Sheet. Toggle switches for each ROAD_CLASS and ROAD_SURFACE type. Update map layer visibility based on filter state in Zustand.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:56.274408551Z","created_by":"YORN","updated_at":"2026-01-19T22:17:48.065281147Z","closed_at":"2026-01-19T22:17:48.065281147Z","close_reason":"Implemented road filter UI with collapsible Sheet panel. Toggle switches for each ROAD_CLASS (highway, arterial, collector, local, resource, decommissioned) and ROAD_SURFACE (paved, loose, rough, overgrown, decommissioned) type. Reset button appears when filters are active. Connected to Zustand store for state management.","dependencies":[{"issue_id":"adv-2ww","depends_on_id":"adv-14v","type":"blocks","created_at":"2026-01-19T21:19:44.711372958Z","created_by":"YORN"},{"issue_id":"adv-2ww","depends_on_id":"adv-nh9","type":"blocks","created_at":"2026-01-19T21:19:44.768526651Z","created_by":"YORN"}]}
{"id":"adv-4bg","title":"Initialize NextJS project with TypeScript, Tailwind, shadcn/ui","description":"Set up greenfield NextJS 14 project with App Router, TypeScript, Tailwind CSS, and shadcn/ui components. Configure ESLint and project structure per SPEC.md.","status":"closed","priority":1,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:30.885771499Z","created_by":"YORN","updated_at":"2026-01-19T21:40:59.426491829Z","closed_at":"2026-01-19T21:40:59.426491829Z","close_reason":"Initialized NextJS 14 project with TypeScript, Tailwind CSS, and shadcn/ui. Created project structure per SPEC.md including: app/, components/map/, components/ui/ (with shadcn button, sheet, toggle, card, tooltip), lib/ (constants, utils), scripts/ (placeholder data processing scripts), types/ (TypeScript interfaces). Build and lint pass successfully."}
{"id":"adv-5x9","title":"Implement draggable route with anchor points","description":"Click on route line to add intermediate anchor/control point. Drag anchor points to adjust route path. Drag existing waypoints to reposition. Re-route through new positions in real-time.","status":"open","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:00.386733884Z","created_by":"YORN","updated_at":"2026-01-19T21:19:00.386733884Z","dependencies":[{"issue_id":"adv-5x9","depends_on_id":"adv-2lq","type":"blocks","created_at":"2026-01-19T21:19:48.699496733Z","created_by":"YORN"}]}
{"id":"adv-68t","title":"Implement waypoint list panel","description":"Collapsible panel showing ordered list of waypoints. Each waypoint shows name (from road) or coordinates. Support reorder via drag. Delete button per waypoint. Show total distance at bottom.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:19.834463502Z","created_by":"YORN","updated_at":"2026-01-19T21:57:43.181659412Z","closed_at":"2026-01-19T21:57:43.181659412Z","close_reason":"Implemented waypoint list panel with: ordered list showing numbered waypoints with coordinates, drag-and-drop reordering using native HTML5 drag API, delete button per waypoint with hover effect, Clear all button, total distance display (shows calculated route distance or placeholder when data unavailable). Panel includes empty state with instructions. Uses Card components from shadcn/ui with lucide-react icons.","dependencies":[{"issue_id":"adv-68t","depends_on_id":"adv-iy6","type":"blocks","created_at":"2026-01-19T21:19:57.515341509Z","created_by":"YORN"}]}
{"id":"adv-7je","title":"Responsive design for mobile and desktop","description":"Mobile: full-screen map, bottom sheet for waypoint list, floating action buttons, touch-friendly interactions. Desktop: sidebar for waypoint management, hover states. Use Tailwind responsive utilities.","status":"open","priority":3,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:23.262022559Z","created_by":"YORN","updated_at":"2026-01-19T21:19:23.262022559Z","dependencies":[{"issue_id":"adv-7je","depends_on_id":"adv-68t","type":"blocks","created_at":"2026-01-19T21:19:57.641936059Z","created_by":"YORN"},{"issue_id":"adv-7je","depends_on_id":"adv-2ww","type":"blocks","created_at":"2026-01-19T21:19:57.699036324Z","created_by":"YORN"}]}
{"id":"adv-80k","title":"Download and process BC DRA data","description":"Create script to download BC Digital Road Atlas geodatabase from BC Data Catalogue. Extract Vancouver Island extent using bounding box (48.3-50.8°N, 123.3-128.5°W). Convert to GeoJSON preserving ROAD_CLASS, ROAD_SURFACE, NUM_LANES, ROAD_NAME, SEGMENT_LENGTH attributes.","status":"closed","priority":1,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:34.25355454Z","created_by":"YORN","updated_at":"2026-01-19T21:48:09.370165445Z","closed_at":"2026-01-19T21:48:09.370165445Z","close_reason":"Created functional data processing scripts: download-dra.ts (downloads BC DRA geodatabase from FTP), extract-vi.ts (clips to Vancouver Island bounding box 48.3-50.8N/123.3-128.5W, converts to GeoJSON with ROAD_CLASS, ROAD_SURFACE, NUM_LANES, ROAD_NAME, SEGMENT_LENGTH attributes using ogr2ogr), generate-tiles.ts (converts GeoJSON to PMTiles using tippecanoe), build-graph.ts (builds routing graph with nodes at intersections and distance-weighted edges). Scripts include prerequisite checks and clear installation instructions for GDAL and tippecanoe."}
{"id":"adv-83w","title":"Vancouver Island Adventure Map","description":"Web-based map tool for exploring Vancouver Island roads and planning motorcycle adventures. See SPEC.md for full specification.","status":"open","priority":1,"issue_type":"epic","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:14.515791193Z","created_by":"YORN","updated_at":"2026-01-19T21:18:14.515791193Z"}
{"id":"adv-8gu","title":"Integrate MapLibre GL with satellite basemap","description":"Set up react-map-gl/maplibre with MapTiler satellite imagery. Configure 3D terrain using terrain-rgb tiles and setTerrain() API. MapTiler key: sYAwnd93vRv6Nhdo5jge","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:39.068074231Z","created_by":"YORN","updated_at":"2026-01-19T21:52:48.810339596Z","closed_at":"2026-01-19T21:52:48.810339596Z","close_reason":"Integrated MapLibre GL with react-map-gl/maplibre. Map component features: satellite imagery from MapTiler (hybrid style), 3D terrain using terrain-rgb-v2 tiles with setTerrain() API, navigation controls with pitch visualization, geolocation control, scale bar. Updated main page with full-screen map layout, header with title/filters/share/clear buttons, waypoint panel (desktop: fixed card, mobile: bottom sheet). Build and lint pass.","dependencies":[{"issue_id":"adv-8gu","depends_on_id":"adv-4bg","type":"blocks","created_at":"2026-01-19T21:19:43.070862842Z","created_by":"YORN"}]}
{"id":"adv-aqq","title":"Deploy to Vercel","description":"Configure Vercel deployment. Set up environment variables (NEXT_PUBLIC_MAPTILER_KEY). Ensure PMTiles and routing graph are served from public folder or CDN. Test production build.","status":"open","priority":3,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:24.492209629Z","created_by":"YORN","updated_at":"2026-01-19T21:19:24.492209629Z","dependencies":[{"issue_id":"adv-aqq","depends_on_id":"adv-7je","type":"blocks","created_at":"2026-01-19T21:20:16.366651101Z","created_by":"YORN"},{"issue_id":"adv-aqq","depends_on_id":"adv-5x9","type":"blocks","created_at":"2026-01-19T21:20:16.492088154Z","created_by":"YORN"},{"issue_id":"adv-aqq","depends_on_id":"adv-dou","type":"blocks","created_at":"2026-01-19T21:20:16.583817929Z","created_by":"YORN"},{"issue_id":"adv-aqq","depends_on_id":"adv-1pf","type":"blocks","created_at":"2026-01-19T21:20:16.645656897Z","created_by":"YORN"}]}
{"id":"adv-dou","title":"Calculate and display route distance","description":"Sum road segment lengths along calculated route. Display total distance in km (1 decimal). Update in real-time as route changes. Show in waypoint panel.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:03.936788783Z","created_by":"YORN","updated_at":"2026-01-19T22:22:06.804583781Z","closed_at":"2026-01-19T22:22:06.804583781Z","close_reason":"Route distance calculation and display already implemented. WaypointList component shows total distance in km with 1 decimal precision, updates in real-time via Zustand store when route changes. RouteLayer provides distance through calculateRoute function.","dependencies":[{"issue_id":"adv-dou","depends_on_id":"adv-2lq","type":"blocks","created_at":"2026-01-19T21:19:48.75446521Z","created_by":"YORN"}]}
{"id":"adv-fag","title":"Implement URL state sync for route sharing","description":"Sync route state to URL in real-time: waypoints (lat,lng pairs), zoom level, map center, active filters. Use nuqs or custom implementation. Debounce updates to avoid history spam. Restore state from URL on page load.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:19:18.151842411Z","created_by":"YORN","updated_at":"2026-01-19T22:00:31.02386802Z","closed_at":"2026-01-19T22:00:31.02386802Z","close_reason":"Implemented URL state sync for route sharing. Created url-state.ts with functions to parse/serialize waypoints (lat,lng pairs), map center, zoom, pitch, bearing to/from URL parameters. Created use-url-sync.tsx hook that: restores state from URL on mount, updates URL when state changes (500ms debounce to avoid history spam). URL format: ?w=lat1,lng1,lat2,lng2\u0026z=10\u0026c=lat,lng\u0026p=45\u0026b=0. Integrated URLSyncProvider in app layout.","dependencies":[{"issue_id":"adv-fag","depends_on_id":"adv-nh9","type":"blocks","created_at":"2026-01-19T21:19:48.816449138Z","created_by":"YORN"},{"issue_id":"adv-fag","depends_on_id":"adv-iy6","type":"blocks","created_at":"2026-01-19T21:19:48.875591773Z","created_by":"YORN"}]}
{"id":"adv-iy6","title":"Implement waypoint placement with road snapping","description":"Click on map to add waypoint. Snap waypoint to nearest road segment. Display waypoint markers. Store waypoints in Zustand. Support click-to-delete.","status":"closed","priority":2,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:57.600178729Z","created_by":"YORN","updated_at":"2026-01-19T21:55:22.271985424Z","closed_at":"2026-01-19T21:55:22.271985424Z","close_reason":"Implemented waypoint placement with interactive markers. Features: click map to add numbered waypoints, drag markers to reposition, click marker to select (shows red highlight), click selected marker again to delete (with hint tooltip), waypoints stored in Zustand store. Map shows crosshair cursor and instruction overlay when no waypoints exist. Markers have pin design with number labels and tail pointer.","dependencies":[{"issue_id":"adv-iy6","depends_on_id":"adv-8gu","type":"blocks","created_at":"2026-01-19T21:19:46.663303042Z","created_by":"YORN"},{"issue_id":"adv-iy6","depends_on_id":"adv-nh9","type":"blocks","created_at":"2026-01-19T21:19:46.719716069Z","created_by":"YORN"}]}
{"id":"adv-nh9","title":"Set up Zustand store structure","description":"Create Zustand store with slices for: map state (center, zoom, bounds), route state (waypoints, calculated route), filter state (active road filters), UI state (panel open/closed).","status":"closed","priority":1,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:32.616839545Z","created_by":"YORN","updated_at":"2026-01-19T21:43:23.919541714Z","closed_at":"2026-01-19T21:43:23.919541714Z","close_reason":"Created Zustand store in lib/store.ts with four slices: MapState (center, zoom, pitch, bearing), RouteState (waypoints, calculated route with add/remove/update/reorder actions), FilterState (road class and surface toggles), UIState (panel open/closed states). Includes devtools middleware and selector hooks (useMapState, useRouteState, useFilterState, useUIState) for common access patterns.","dependencies":[{"issue_id":"adv-nh9","depends_on_id":"adv-4bg","type":"blocks","created_at":"2026-01-19T21:19:42.884809117Z","created_by":"YORN"}]}
{"id":"adv-y5p","title":"Build routing graph from road network","description":"Create script to build a routing graph from the road network GeoJSON. Output as JSON with nodes (intersections) and edges (road segments with lengths). Optimize for client-side Dijkstra routing.","status":"closed","priority":1,"issue_type":"task","owner":"60938577+jorgenbuilder@users.noreply.github.com","created_at":"2026-01-19T21:18:37.314521997Z","created_by":"YORN","updated_at":"2026-01-19T21:49:02.585320532Z","closed_at":"2026-01-19T21:49:02.585320532Z","close_reason":"Script build-graph.ts is complete and ready to run. Builds routing graph from vi-roads.geojson with nodes at road intersections and edges with distance weights (haversine formula). Outputs to public/vi-graph.json for client-side Dijkstra routing.","dependencies":[{"issue_id":"adv-y5p","depends_on_id":"adv-80k","type":"blocks","created_at":"2026-01-19T21:19:43.00711139Z","created_by":"YORN"}]}
